<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Interval_base (interval_base.Interval_base)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">interval_base</a> &#x00BB; Interval_base</nav><header class="odoc-preamble"><h1>Module <code><span>Interval_base</span></code></h1><p>Base module for interval arithmetic.</p><ul class="at-tags"><li class="version"><span class="at-tag">version</span> 1.6</li></ul></header><nav class="odoc-toc"><ul><li><a href="#intervals-with-float-endpoints">Intervals with float endpoints</a></li><li><a href="#directed-rounding">Directed rounding</a></li><li><a href="#changing-the-rounding-mode-(dangerous)">Changing the rounding mode (DANGEROUS)</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec module-type" id="module-type-T" class="anchored"><a href="#module-type-T" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-T/index.html">T</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Basic signature for interval arithmetic packages.</p></div></div><h3 id="intervals-with-float-endpoints"><a href="#intervals-with-float-endpoints" class="anchor"></a>Intervals with float endpoints</h3><div class="odoc-spec"><div class="spec type" id="type-interval" class="anchored"><a href="#type-interval" class="anchor"></a><code><span><span class="keyword">type</span> interval</span><span> = </span><span>{</span></code><table><tr id="type-interval.low" class="anchored"><td class="def record field"><a href="#type-interval.low" class="anchor"></a><code><span>low : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>lower bound, possibly = -∞</p><span class="comment-delim">*)</span></td></tr><tr id="type-interval.high" class="anchored"><td class="def record field"><a href="#type-interval.high" class="anchor"></a><code><span>high : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>higher bound, possibly = +∞</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The interval type. Be careful however when creating intervals. For example, the following code: <code>let a = {low=1./.3.; high=1./.3.}</code> creates an interval which does NOT contain the mathematical object 1/3.</p><p>If you want to create an interval representing 1/3, you have to write <code>let a = I.(inv(v 3. 3.))</code> because rounding will then be properly handled by <a href="I/index.html#val-inv"><code>I.inv</code></a> and the resulting interval will indeed contain the exact value of 1/3.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Division_by_zero" class="anchored"><a href="#exception-Division_by_zero" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Division_by_zero</span></span></code></div><div class="spec-doc"><p>Exception raised when a division by 0 occurs.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Domain_error" class="anchored"><a href="#exception-Domain_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Domain_error</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Exception raised when an interval is completely outside the domain of a function. The string is the name of the function and is meant to help when running code in the REPL (aka toploop).</p></div></div><div class="odoc-spec"><div class="spec module" id="module-I" class="anchored"><a href="#module-I" class="anchor"></a><code><span><span class="keyword">module</span> <a href="I/index.html">I</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Interval operations. Locally open this module — using e.g. <code>I.(...)</code> — to redefine classical arithmetic operators for interval arithmetic.</p></div></div><h3 id="directed-rounding"><a href="#directed-rounding" class="anchor"></a>Directed rounding</h3><div class="odoc-spec"><div class="spec module-type" id="module-type-DIRECTED" class="anchored"><a href="#module-type-DIRECTED" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-DIRECTED/index.html">DIRECTED</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Interface for up and down roundings.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-RoundDown" class="anchored"><a href="#module-RoundDown" class="anchor"></a><code><span><span class="keyword">module</span> <a href="RoundDown/index.html">RoundDown</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Functions rounding down their results.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-RoundUp" class="anchored"><a href="#module-RoundUp" class="anchor"></a><code><span><span class="keyword">module</span> <a href="RoundUp/index.html">RoundUp</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Functions rounding up their results.</p></div></div><h3 id="changing-the-rounding-mode-(dangerous)"><a href="#changing-the-rounding-mode-(dangerous)" class="anchor"></a>Changing the rounding mode (DANGEROUS)</h3><p>Below, we have functions for changing the rounding mode. The default mode for rounding is NEAREST.</p><p>BE VERY CAREFUL: using these functions unwisely can ruin all your computations. Remember also that on 64 bits machine these functions won't change the behaviour of the SSE instructions.</p><p>When setting the rounding mode to UPWARD or DOWNWARD, it is better to set it immediately back to NEAREST. However we have no guarantee on how the compiler will reorder the instructions generated. It is ALWAYS better to write:</p><pre><code>let a = set_round_up(); let res = 1./.3. in
set_round_nearest (); res;; </code></pre><p>The above code will NOT work on linux-x64 where many floating point functions are implemented using SSE instructions. These three functions should only be used when there is no other solution, and you really know what tou are doing, and this should never happen. Please use the regular functions of the fpu module for computations. For example prefer:</p><pre><code>let a = RoundUp.(1. /. 3.)  </code></pre><p>PS: The Interval module and the fpu module functions correctly set and restore the rounding mode for all interval computations, so you don't really need these functions.</p><p>PPS: Please, don't use them...</p><div class="odoc-spec"><div class="spec value" id="val-set_round_dw" class="anchored"><a href="#val-set_round_dw" class="anchor"></a><code><span><span class="keyword">val</span> set_round_dw : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Sets the rounding mod to DOWNWARD (towards minus infinity)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_round_up" class="anchored"><a href="#val-set_round_up" class="anchor"></a><code><span><span class="keyword">val</span> set_round_up : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Sets the rounding mod to UPWARD (towards infinity)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_round_nearest" class="anchored"><a href="#val-set_round_nearest" class="anchor"></a><code><span><span class="keyword">val</span> set_round_nearest : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Sets the rounding mod to NEAREST (default mode)</p></div></div></div></body></html>